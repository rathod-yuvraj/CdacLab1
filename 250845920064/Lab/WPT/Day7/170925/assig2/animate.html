<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quote Scroller</title>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<style>
  #quoteContainer {
    width: 400px;
    height: 50px;
    overflow: hidden;
    border: 2px solid #333;
    position: relative;
    background-color: #f0f8ff;
  }
  #quote {
    position: absolute;
    white-space: nowrap;
    font-family: 'Georgia', serif;
    font-size: 24px;
    color: #2c3e50;
    top: 50%;
    transform: translateY(-50%);
  }
  #startBtn {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
  }
</style>
</head>
<body>

<h2>Nice Quote Scroller</h2>
<div id="quoteContainer">
  <div id="quote">“The only limit to our realization of tomorrow is our doubts of today.”</div>
</div>
<button id="startBtn">Start Animation</button>

<script>
  $(document).ready(function () {
    const $quote = $('#quote');
    const $container = $('#quoteContainer');
    const containerWidth = $container.width();
    const quoteWidth = $quote.width();

    // Animate function to move left to right or right to left once
    function animateOnce(direction, duration = 3000) {
      return new Promise((resolve) => {
        let targetLeft;
        if (direction === 'ltr') {
          targetLeft = containerWidth - quoteWidth; // move right
        } else {
          targetLeft = 0; // move left (back to start)
        }
        $quote.animate({ left: targetLeft }, duration, 'swing', resolve);
      });
    }

    async function runAnimation() {
      // Reset position to start left=0
      $quote.stop(true).css({ left: 0 });

      // Move left to right 4 times
      for (let i = 0; i < 4; i++) {
        await animateOnce('ltr');
        await animateOnce('ltr'); // Move back left after each? The problem states only 4 times LTR then one RTL
        // Actually, requirement is LTR 4 times, then RTL once.
        // So only one direction LTR, so to move back to left, animate RTL once at end.
        // So no need to move back after each LTR.
        // So we change logic:
        // We'll animate LTR, reset left=0 instantly and repeat 4 times,
        // then animate RTL at the end.
      }
    }

    async function correctedRunAnimation() {
      // Reset position to left 0
      $quote.stop(true).css({ left: 0 });

      // Animate left to right 4 times
      for (let i = 0; i < 4; i++) {
        await animateOnce('ltr');
        // Reset position instantly to left 0 (start position)
        $quote.css({ left: 0 });
      }

      // Animate right to left once
      await animateOnce('rtl');
    }

    $('#startBtn').click(() => {
      correctedRunAnimation();
    });
  });
</script>

</body>
</html>
